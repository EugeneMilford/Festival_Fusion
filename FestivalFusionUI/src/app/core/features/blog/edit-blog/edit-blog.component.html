<div class="container">
    <!-- Breadcrumb for Blog -->
    <nav aria-label="breadcrumb" class="mt-3">
      <ol class="breadcrumb bg-white px-3 py-2 rounded-3 shadow-sm">
        <li class="breadcrumb-item">
          <a routerLink="/" class="text-decoration-none fw-bold">
            <i class="bi bi-house-door"></i> Home
          </a>
        </li>
        <li class="breadcrumb-item">
          <a routerLink="/admin/blog" class="text-decoration-none fw-bold">
            <i class="bi bi-journal-text"></i> Blog
          </a>
        </li>
        <li class="breadcrumb-item active fw-bold text-dark" aria-current="page">
          Edit Post
        </li>
      </ol>
    </nav>
    <!-- End Breadcrumb -->
  
    <h3 class="mt-4 mb-4 text-center text-gradient">Edit Blog Post</h3>
  
    <ng-container *ngIf="blog; else notFound">
      <div class="row justify-content-center">
        <div class="col-lg-10">
          <form #form="ngForm" (ngSubmit)="onEditBlogSubmit()" class="p-4 rounded-4 shadow-lg bg-white">
            <div class="row gy-4">
  
              <!-- Title -->
              <div class="col-md-8">
                <label class="form-label" for="title">Post Title</label>
                <input 
                  type="text" 
                  id="title"
                  class="form-control"
                  name="title"
                  [(ngModel)]="blog.title"
                  required>
              </div>
  
              <!-- Category -->
              <div class="col-md-4">
                <label class="form-label" for="category">Category</label>
                <input 
                  type="text" 
                  id="category"
                  class="form-control"
                  name="category"
                  [(ngModel)]="blog.category">
              </div>
  
              <!-- Content -->
              <div class="col-md-12">
                <label class="form-label" for="content">Post Content</label>
                <textarea 
                  id="content"
                  class="form-control"
                  name="content"
                  [(ngModel)]="blog.content"
                  rows="10"
                  style="min-height: 200px;"></textarea>
              </div>
  
              <!-- Author -->
              <div class="col-md-6">
                <label class="form-label" for="author">Author</label>
                <input 
                  type="text" 
                  id="author"
                  class="form-control"
                  name="author"
                  [(ngModel)]="blog.author">
              </div>
  
              <!-- Published Date -->
              <div class="col-md-6">
                <label class="form-label" for="publishedDate">Published Date</label>
                <input 
                  type="date" 
                  id="publishedDate"
                  class="form-control"
                  name="publishedDate"
                  [(ngModel)]="blog.publishedDate">
              </div>
  
              <!-- Featured Image URL -->
              <div class="col-md-12">
                <label class="form-label" for="featuredImageUrl">Featured Image URL</label>
                <input 
                  type="url" 
                  id="featuredImageUrl"
                  class="form-control"
                  name="featuredImageUrl"
                  [(ngModel)]="blog.featuredImageUrl"
                  placeholder="https://example.com/image.jpg">
              </div>
  
              <!-- Image Preview -->
              <div class="col-md-12" *ngIf="blog.featuredImageUrl">
                <label class="form-label">Image Preview</label>
                <div class="image-preview-container">
                  <img 
                    [src]="blog.featuredImageUrl" 
                    [alt]="blog.title"
                    class="img-thumbnail"
                    style="max-height: 300px; object-fit: cover; width: 100%;">
                </div>
              </div>
  
              <!-- Checkboxes Section -->
              <div class="col-md-12">
                <div class="checkbox-group">
                  <div class="form-check form-check-inline">
                    <input 
                      type="checkbox" 
                      id="isPublished"
                      name="isPublished" 
                      class="form-check-input" 
                      [(ngModel)]="blog.isPublished">
                    <label class="form-check-label" for="isPublished">
                      <i class="bi bi-check-circle"></i> Published
                    </label>
                  </div>
  
                  <div class="form-check form-check-inline">
                    <input 
                      type="checkbox" 
                      id="isFeatured"
                      name="isFeatured" 
                      class="form-check-input" 
                      [(ngModel)]="blog.isFeatured">
                    <label class="form-check-label" for="isFeatured">
                      <i class="bi bi-star"></i> Featured
                    </label>
                  </div>
                </div>
              </div>
  
              <!-- Action Buttons -->
              <div class="col-12 text-center mt-4">
                <div class="button-group">
                  <button type="submit" class="btn btn-primary btn-lg px-5 rounded-pill shadow">
                    Save Changes
                  </button>
                  <button type="button" class="btn btn-danger btn-lg px-5 rounded-pill shadow ms-3" (click)="onRemoveBlog()">
                    Delete Post
                  </button>
                </div>
              </div>
  
            </div>
          </form>
        </div>
      </div>
    </ng-container>
  
  </div>
  
  <ng-template #notFound>
    <div class="container mt-5">
      <div class="alert alert-warning text-center p-4 rounded-4 shadow" role="alert">
        <i class="bi bi-exclamation-triangle-fill" style="font-size: 3rem; color: #f59e0b;"></i>
        <h4 class="mt-3">Blog Post Not Found!</h4>
        <p>The blog post you're looking for doesn't exist or has been removed.</p>
        <a routerLink="/admin/blog" class="btn btn-primary mt-3">Back to Blog List</a>
      </div>
    </div>
  </ng-template>
